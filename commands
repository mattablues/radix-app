----------------------------------------------------------------------------------------------
Cache
----------------------------------------------------------------------------------------------
Använd Windows-kommandon i PowerShell eller Cmd.
PowerShell (rekommenderas):
- Radera mappar rekursivt och tyst:
    - Remove-Item -Recurse -Force .phpunit.cache, build\coverage -ErrorAction SilentlyContinue

- Radera fil:
    - Remove-Item -Force vendor\bin.phpunit.result.cache -ErrorAction SilentlyContinue

- Bygg om autoload:
    - composer dump-autoload -o

- Kör Infection:
    - composer infect

Tips: Kör PowerShell från projektroten: pwsh eller powershell.

composer dump-autoload -o
vendor/bin/phpunit
composer infect --show-mutations

Remove-Item -Recurse -Force 'C:\Users\mats\AppData\Local\Temp\radix_ratelimit' -ErrorAction SilentlyContinue
composer dump-autoload -o
vendor/bin/phpunit -d opcache.enable_cli=0
vendor/bin/infection --threads=1 --show-mutations --filter=src/Middlewares/RateLimiter.php --initial-tests-php-options="-d opcache.enable_cli=0"
vendor/bin/infection --threads=1 --show-mutations --filter=src/Middlewares/RequestLogger.php --initial-tests-php-options="-d opcache.enable_cli=0"

Remove-Item -Recurse -Force "$env:TEMP\radix_ratelimit" -ErrorAction SilentlyContinue
composer dump-autoload -o
vendor/bin/phpunit -d opcache.enable_cli=0
vendor/bin/infection --threads=1 --show-mutations --initial-tests-php-options="-d opcache.enable_cli=0"

Remove-Item -Recurse -Force "$env:TEMP\radix_ratelimit" -ErrorAction SilentlyContinue
Remove-Item -Recurse -Force .phpunit.cache, build\coverage -ErrorAction SilentlyContinue
Remove-Item -Force vendor\bin.phpunit.result.cache -ErrorAction SilentlyContinue
composer dump-autoload -o
vendor/bin/phpunit -d opcache.enable_cli=0
vendor/bin/infection --threads=1 --show-mutations --filter=src/Middlewares/RequestLogger.php --initial-tests-php-options="-d opcache.enable_cli=0"
vendor/bin/infection --threads=1 --show-mutations --filter=src/Services/HealthCheckService.php --initial-tests-php-options="-d opcache.enable_cli=0"

vendor/bin/infection --threads=1 --show-mutations --filter=src/Middlewares/RateLimiter.php --filter=src/Middlewares/RequestLogger.php --initial-tests-php-options="-d opcache.enable_cli=0"
vendor/bin/infection --threads=1 --show-mutations  --filter=src/Middlewares/RequestSizeLimitMiddleware.php --initial-tests-php-options="-d opcache.enable_cli=0"

Remove-Item -Recurse -Force vendor -ErrorAction SilentlyContinue
Remove-Item -Recurse -Force .phpunit.cache -ErrorAction SilentlyContinue
Remove-Item -Force vendor\bin.phpunit.result.cache -ErrorAction SilentlyContinue
Remove-Item -Recurse -Force build\coverage -ErrorAction SilentlyContinue
Remove-Item -Recurse -Force "$env:TEMP\radix_ratelimit" -ErrorAction SilentlyContinue
composer install
composer dump-autoload -o
Kör sedan:
vendor/bin/phpunit -d opcache.enable_cli=0
vendor/


Remove-Item -Recurse -Force 'C:\Users\mats\AppData\Local\Temp\radix_ratelimit' -ErrorAction Silently
Remove-Item -Recurse -Force "$env:TEMP\radix_ratelimit" -ErrorAction SilentlyContinue
Remove-Item -Recurse -Force .phpunit.cache, build\coverage -ErrorAction SilentlyContinue
Remove-Item -Force vendor\bin.phpunit.result.cache -ErrorAction SilentlyContinue
composer dump-autoload -o
vendor/bin/phpunit -d opcache.enable_cli=0


Remove-Item -Recurse -Force .phpunit.cache, build\coverage -ErrorAction SilentlyContinue
Remove-Item -Force vendor\bin.phpunit.result.cache -ErrorAction SilentlyContinue
composer dump-autoload -o
vendor/bin/phpunit -d opcache.enable_cli=0
vendor/bin/infection --threads=1 --show-mutations --filter=framework/src/Middleware/Middlewares/SecurityHeaders.php --initial-tests-php-options="-d opcache.enable_cli=0"

vendor/bin/phpunit -d opcache.enable_cli=0 --filter=SecurityHeadersMiddlewareTest
vendor/bin/phpunit -d opcache.enable_cli=0 --filter=ConfigTest
vendor/bin/infection --threads=1 --show-mutations --filter=framework/src/Middleware/Middlewares/SecurityHeaders.php --initial-tests-php-options="-d opcache.enable_cli=0"

vendor/bin/infection --threads=1 --show-mutations --filter=framework/src/Http/EventListeners --initial-tests-php-options="-d opcache.enable_cli=0"

vendor/bin/infection --threads=1 --show-mutations --filter=framework/src/Container/Resolver.php --initial-tests-php-options="-d opcache.enable_cli=0"

php -d xdebug.mode=coverage vendor/bin/phpunit -c phpunit.xml --coverage-xml=build/coverage/coverage-xml --log-junit=build/coverage/junit.xml

Remove-Item .infection.cache* -ErrorAction SilentlyContinue


Remove-Item .infection.cache* -ErrorAction SilentlyContinue
Remove-Item -Recurse -Force .phpunit.cache, build\coverage -ErrorAction SilentlyContinue
Remove-Item -Force vendor\bin.phpunit.result.cache -ErrorAction SilentlyContinue
composer dump-autoload -o
vendor/bin/phpunit -d opcache.enable_cli=0
php vendor/bin/infection --configuration=infection.json.dist --clear-cache --filter="/Pagination\.php$/"
----------------------------------------------------------------------------------------------
Cache
----------------------------------------------------------------------------------------------
vendor/bin/infection --threads=1 --filter=framework/src/File --initial-tests-php-options="-d opcache.enable_cli=0"

php vendor\bin\infection --threads=1 --ignore-msi-with-no-mutations --skip-initial-tests --no-interaction --no-progress --coverage=build/coverage --filter="framework/src/Database/QueryBuilder/Concerns/Pagination.php" --test-framework-options="--order-by=default --do-not-cache-result"


php vendor/bin/infection --configuration=infection.json.dist --filter="/Pagination\.php$/" --test-framework-options="--filter QueryBuilderTest"

vendor/bin/infection -vvv --no-progress --threads=1 --show-mutations --filter=framework/src/Database/QueryBuilder --initial-tests-php-options="-d opcache.enable_cli=0"

vendor/bin/infection -vvv --no-progress --threads=1 --show-mutations --skip-initial-tests --filter=framework/src/Database/QueryBuilder --initial-tests-php-options="-d opcache.enable_cli=0"

vendor/bin/infection -vvv --no-progress --threads=1 --show-mutations --log-verbosity=all --debug --filter=framework/src/Database/QueryBuilder --initial-tests-php-options="-d opcache.enable_cli=0" > infection-debug.txt

-------------------------------

$env:TEMP = "$PWD\.tmp"
$env:TMP  = "$PWD\.tmp"
$env:INFECTION_TEMP_DIR = "$PWD\.tmp\infection"
New-Item -ItemType Directory -Force $env:INFECTION_TEMP_DIR | Out-Null


# (valfritt men ofta hjälpsamt)
Remove-Item -Recurse -Force "$env:INFECTION_TEMP_DIR" -ErrorAction SilentlyContinue
New-Item -ItemType Directory -Force $env:INFECTION_TEMP_DIR | Out-Null

vendor/bin/infection -vvv --no-progress --threads=1 --show-mutations --filter=framework/src/Database/QueryBuilder --initial-tests-php-options="-d opcache.enable_cli=0"

 vendor/bin/infection -vvv --no-progress --threads=1 --show-mutations --log-verbosity=all --debug --filter=framework/src/Database/QueryBuilder --initial-tests-php-options="-d opcache.enable_cli=0" > infection-debug.txt

 vendor/bin/infection -vvv --no-progress --threads=1 --show-mutations --filter=framework/src/Database/QueryBuilder --initial-tests-php-options="-d opcache.enable_cli=0" --test-framework-options="--do-not-cache-result"

vendor/bin/infection -vvv --no-progress --threads=1 --show-mutations --filter=framework/src/Database/QueryBuilder --initial-tests-php-options="-d opcache.enable_cli=0" --test-framework-options="--do-not-cache-result"

vendor/bin/infection -vvv --no-progress --threads=1 --show-mutations --filter="framework/src/Database/QueryBuilder/AbstractQueryBuilder.php" --initial-tests-php-options="-d opcache.enable_cli=0"

vendor/bin/infection -vvv --no-progress --threads=1 --show-mutations `
  --filter="framework/src/Database/QueryBuilder/AbstractQueryBuilder.php" `
  --initial-tests-php-options="-d opcache.enable_cli=0"

  vendor/bin/infection -vvv --no-progress --threads=1 --show-mutations --filter="framework/src/Database/QueryBuilder/AbstractQueryBuilder.php" --initial-tests-php-options="-d opcache.enable_cli=0"


$env:TEMP = "$env:LOCALAPPDATA\Temp"
$env:TMP  = "$env:LOCALAPPDATA\Temp"
$env:INFECTION_TEMP_DIR = "$env:LOCALAPPDATA\Temp\infection"
New-Item -ItemType Directory -Force $env:INFECTION_TEMP_DIR | Out-Null

vendor/bin/infection -vvv --no-progress --threads=1 --show-mutations --filter="framework/src/Database/QueryBuilder/" --initial-tests-php-options="-d opcache.enable_cli=0"


vendor/bin/infection --configuration=infection.json.dist --threads=1 --show-mutations


vendor/bin/infection --configuration=infection.json.dist --threads=1 --show-mutations --filter="DIN_FILTER"

Remove-Item .infection.cache* -ErrorAction SilentlyContinue
vendor/bin/infection --configuration=infection.json.dist --threads=1 --show-mutations --filter="/AbstractQueryBuilder\.php$/"

  vendor/bin/infection -vvv --no-progress --threads=1 --show-mutations --initial-tests-php-options="-d opcache.enable_cli=0"

   vendor/bin/infection -vvv --no-progress --threads=1 --show-mutations --filter="framework/src/Console/" --initial-tests-php-options="-d opcache.enable_cli=0"

vendor/bin/infection -vvv --no-progress --threads=1 --show-mutations --initial-tests-php-options="-d opcache.enable_cli=0"


php vendor/bin/infection --configuration=infection.json.dist --threads=1 --no-progress --show-mutations --log-verbosity=all --filter="framework/src" --debug --filter="csv\\("

php vendor/bin/infection --configuration=infection.json.dist --threads=1 --no-progress --show-mutations --filter='/JsonFunctions\.php$/' --test-framework-options='--filter=GetDriverNameFallbackTest'

// Detta
php vendor/bin/infection --configuration=infection.json.dist --threads=1 --no-progress --show-mutations

MD Powershell
php radix --md > docs/CLI.md